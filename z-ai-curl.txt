curl -X POST 'https://api.z.ai/api/coding/paas/v4/chat/completions' \
  -H 'Content-Type: application/json' \
  -H 'Authorization: Bearer ***REDACTED***' \
  -d '{
    "model": "glm-4.7",
    "messages": [
      {
        "role": "system",
        "content": "You are a helpful assistant with access to tools."
      },
      {
        "role": "user",
        "content": "What is the weather in Tokyo?"
      },
      {
        "role": "assistant",
        "content": null,
        "tool_calls": [
          {
            "id": "call_abc123",
            "type": "function",
            "function": {
              "name": "get_weather",
              "arguments": "{\"location\": \"Tokyo, Japan\", \"unit\": \"celsius\"}"
            }
          }
        ]
      },
      {
        "role": "tool",
        "tool_call_id": "call_abc123",
        "content": "{\"temperature\": 18, \"condition\": \"partly cloudy\", \"humidity\": 65}"
      }
    ],
    "tools": [
      {
        "type": "function",
        "function": {
          "name": "get_weather",
          "description": "Get the current weather for a location",
          "parameters": {
            "type": "object",
            "properties": {
              "location": {
                "type": "string",
                "description": "The city and state"
              },
              "unit": {
                "type": "string",
                "enum": ["celsius", "fahrenheit"]
              }
            },
            "required": ["location"]
          }
        }
      }
    ]
  }'